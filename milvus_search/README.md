# Milvus test
This repos is for testing model with a very large testing dataset at VTX using Milvus engine. We attempted to imitate how the FaceID system outputs the labels of input images and check the performance.

We need to input two files: reference pkls and testing pkls which are generated by `crt_emb_from_pkl_plus.pkl` at [Face_embedding](http://172.21.100.253:3000/vietth5/Face_embedding.git).  
For example, after scp these files to my local:  
`pkl_path = 'local/pkls/glint360k_r100_BGD_477_ref_cv.pkl'` is the path of reference pickle file.
`pkl_testPath = 'local/pkls/glint360k_r100_BGD_455_test_cv.pkl'` is the path of testing pickle file.

For running: just
```bash
python3 milvus_standard_test.py
```
The results were stored at [Results](https://docs.google.com/spreadsheets/d/1M0bDiKxfGcFiD6glRexHeUG0YJ_IuPgcr85rVa5RPY0/edit#gid=1109866680).

# Requirements
- milvus  
- torchvision  
- torch  
- PIL  

